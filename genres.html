<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Select Genre</title>
  <link rel="stylesheet" href="style.css" />

  <!-- Digital Data Layer Initialization -->
  <script>
    window.digitalData = window.digitalData || {
      page: {
        pageInfo: {
          pageName: "Genre Selection Page",
          siteSection: "Book Genres",
          language: "en",
          pageType: "Book Category"
        },
        category: {
          primaryCategory: "Book Genres"
        }
      },
      user: {
        isLoggedIn: false,
        userId: "",
        profile: {
          name: "",
          email: ""
        }
      },
      events: []
    };
  </script>

  <!-- Adobe Launch or other tag manager (optional, your existing script) -->
  <script src="https://assets.adobedtm.com/21b53c73144b/0ae700d1ec93/launch-1e41035aaf34-development.min.js" async></script>
</head>
<body>
  <header>
    <h1>Choose a Genre</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="genres.html">Genres</a>
      <a href="recommendations.html">Recommendations</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>

  <main>
    <section class="genres-grid">
      <button class="genre-button" data-genre="Fantasy">Fantasy</button>
      <button class="genre-button" data-genre="Science Fiction">Science Fiction</button>
    </section>
  </main>

  <footer>
    <p>Â© 2025 Book Recommender</p>
  </footer>

  <!-- Enhanced Click Tracking Script -->
  <script>
    document.querySelectorAll('.genre-button').forEach(button => {
      button.addEventListener('click', function () {
        const genreName = this.getAttribute('data-genre');

        const eventData = {
          event: "genreClick",
          eventInfo: {
            eventAction: "click",
            eventCategory: "genre selection",
            eventLabel: genreName,
            eventTimestamp: new Date().toISOString()
          },
          genre: {
            name: genreName
          },
          page: window.digitalData.page || {},
          user: window.digitalData.user || {}
        };

        window.digitalData.events.push(eventData);

        console.log("Digital Data Event Fired:", eventData);
      });
    });
  </script>

  <!-- Optional: Your external JS -->
  <script src="script.js"></script>
</body>
</html>
